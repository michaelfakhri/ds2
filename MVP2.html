<!DOCTYPE html>
<html>
	<head lang="en">
   		<meta charset="utf-8">
   		<title>UP2P - LIBP2P MVP</title>
		<script src="https://unpkg.com/libp2p-ipfs-browser/dist/index.min.js"></script>
		<script src="https://unpkg.com/peer-id/dist/index.min.js"></script>
		<script src="https://unpkg.com/peer-info/dist/index.min.js"></script>
		<script src="https://unpkg.com/idb-pull-blob-store/dist/index.min.js"></script>
		<script src="https://unpkg.com/multihashing-async/dist/index.min.js"></script>
		<script src="bundle.js"></script>
		<script src="request.js"></script>
		<script src="connectionHandler.js"></script>
		<script src="databaseManager.js"></script>
		<script src="queryHandler.js"></script>
		<script src="up2p.js"></script>
	</head>
	<body>
		<h1 align="center">U-P2P WebRtc MVP </h1>
		<input type="file" id="files" name="files[]" multiple />

	</body>
	<script>
	var a,b;
			setTimeout(function(){
			//up2pInstance.connectTo('QmTjnjMUXtPddDKayE4uDr5bMqopSPdZRdyBqMXWQcs6Vq')
			//console.log('connected to QmTjnjMUXtPddDKayE4uDr5bMqopSPdZRdyBqMXWQcs6Vq');
			up2pInstance.dbManager.fileExists('Qmbnshqqim9yS9Cq8Cc4HzZSbmXe2dfMivNnAi7FQ2ov6D').then(function(exists){console.log('file Qmbnshqqim9yS9Cq8Cc4HzZSbmXe2dfMivNnAi7FQ2ov6D exists = '+exists)})
		},1000);
		
		document.getElementById('files').addEventListener('change', fileTester, false);

		function fileTester(event){
			up2pInstance.publishFile(event.target.files[0]);
		}
	</script>
</html>